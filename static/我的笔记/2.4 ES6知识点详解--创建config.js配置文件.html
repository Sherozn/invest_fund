<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.12 (457935)"/><meta name="author" content="1369822836@qq.com"/><meta name="created" content="2019-08-30 08:20:48 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2019-09-08 04:02:58 +0000"/><title>2.4 ES6知识点详解--创建config.js配置文件</title></head><body><div>ES6是JavaScript的一个版本，因为我们前面用到的vue默认使用ES6语法开发，所以我们在这一节补充ES6的知识点，先了解我们项目经常用到的ES6的一些语法。</div><div><br/></div><div>&gt; ES6文档参考</div><div><a href="https://www.runoob.com/w3cnote/es6-concise-tutorial.html">https://www.runoob.com/w3cnote/es6-concise-tutorial.html</a></div><div><br/></div><div>1、创建测试方法</div><div>（1）编辑index.vue文件</div><div>为了方便我们理解，直接在src/pages/index/index.vue文件中编辑，这样可以在微信开发者工具控制台中看到效果。在script部分methods中添加test方法。</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>methods: {</div><div>  addMark (add) {</div><div>    this.mark = this.mark + add</div><div>    console.log("mark为：",this.mark)  </div><div>  },</div><div>  //新添加的test方法，注意上一行的逗号“,”不要落下哦~</div><div>  test () {</div><div>    console.log("测试方法运行成功")</div><div>  }</div><div>},</div><div><br/></div><div>//mounted是vue生命周期方法，在页面渲染完成后执行</div><div>mounted () {</div><div>  this.test()</div><div>}</div></div><div><br/></div><div>（2）代码解析</div><div>1）在methods中，每个方法之间需要有逗号间隔</div><div>2）mounted是vue生命周期方法，在页面渲染完成后执行，我们在mounted中执行test方法，这样每次修改test方法，都会自动执行，我们就会在微信开发者工具控制台中看到效果。</div><div><br/></div><div>（3）测试</div><div>保存代码后，在项目目录中运行`npm run dev`启动项目</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>~/WeChatProjects/truth_hold$ npm run dev</div></div><div>在微信开发者工具控制台中会看到以下效果</div><div><img src="2.4%20ES6%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3--%E5%88%9B%E5%BB%BAconfig.js%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.html.resources/82E3879E-0362-4417-8F33-838BB1CCF4AC.png" height="181" width="443"/><br/></div><div><br/></div><div>2、let、const作用域</div><div>（1）let用来声明变量，允许创建块级作用域，代替了var</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>test () {</div><div>  console.log("测试方法运行成功")</div><div>  //let声明变量</div><div>  let a = 2</div><div>  {</div><div>    let a = 3</div><div>    console.log("第一个a：",a)</div><div>  }</div><div>  console.log("第二个a：",a)</div><div>}</div></div><div><br/></div><div>控制台返回结果：</div><div><img src="2.4%20ES6%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3--%E5%88%9B%E5%BB%BAconfig.js%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.html.resources/CBF8A047-B84E-46CA-80E9-E44AF509F712.png" height="60" width="429"/><br/></div><div><br/></div><div>（2）const用来声明常量，不可以被修改</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>test () {</div><div>  console.log("测试方法运行成功")</div><div>  //const声明常量</div><div>  const b = 3</div><div>  b = 2  </div><div>}</div></div><div>保存代码之后，回到微信开发者工具，效果没有更新。这就可能是报错了，这时我们回到终端，看到返回的结果，常量被const声明了之后，就不可以修改了。</div><div><img src="2.4%20ES6%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3--%E5%88%9B%E5%BB%BAconfig.js%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.html.resources/BCA43DA3-7AC8-4653-A7BE-9D07D6F09BC1.png" height="250" width="359"/><br/></div><div><br/></div><div><br/></div><div>3、字符串</div><div>（1）拼接字符串，可以直接在<span style="border: 0px; font-size: 14px; word-break: break-all; background-image: url(&quot;file:///Applications/Evernote.app/Contents/Resources/common-editor-mac/file;%20background-position:%20left%200.5em;%20background-repeat:%20no-repeat%20no-repeat;&quot;); line-height: 2em;">${ }</span>里面写变量<span style="border: 0px; font-size: 14px; word-break: break-all; background-image: url(&quot;file:///Applications/Evernote.app/Contents/Resources/common-editor-mac/file;%20background-position:%20left%200.5em;%20background-repeat:%20no-repeat%20no-repeat;&quot;); line-height: 2em;">，用</span>反引号 ` 包裹字符串。这样可以代替用加号拼接字符串</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>test () {</div><div>  console.log("测试方法运行成功")</div><div>  //字符串拼接</div><div>  let name = "maoning"</div><div>  console.log("第一种拼接方法：my name is " + name + "")</div><div>  console.log(`第二种拼接方法：my name is ${name}`)</div><div>}</div></div><div><br/></div><div><img src="2.4%20ES6%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3--%E5%88%9B%E5%BB%BAconfig.js%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.html.resources/E0BD9DE7-8D31-402F-ACE7-A5D9728C1C6C.png" height="64" width="405"/><br/></div><div><br/></div><div>4、箭头函数</div><div>就是函数的一种简写形式</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>//函数普通形式</div><div>var add = function(a,b) {</div><div>  return a+b;</div><div>};</div><div /><div><br/></div><div><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco;">//箭头函数简写形式</span></div><div>var add = (a,b) =&gt; {</div><div>  return a+b;</div><div>};</div></div><div><br/></div><div>5、数组批量赋值</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>test () {</div><div>  console.log("测试方法运行成功")</div><div>  //数组批量赋值</div><div>  let arr = [1,2]</div><div>  let [a,b] = arr</div><div>  console.log("a的值为:",a)</div><div>  console.log("b的值为:",b)</div><div>}</div></div><div><br/></div><div>控制台返回结果：</div><div><img src="2.4%20ES6%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3--%E5%88%9B%E5%BB%BAconfig.js%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.html.resources/387D1E4F-6CE6-4997-A25A-87F5D0F14DBF.png" height="59" width="405"/><br/></div><div><br/></div><div>6、模块化 </div><div>（1）创建src/config.js配置文件</div><div>我们在src/config.js文件里面定义一个常量，通过export的意思是向外暴露接口，然后在index.vue文件中引用这个常量</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>//定义一个常量</div><div>const host = '<a href="http://localhost:5757">http://localhost:5757</a>'</div><div><br/></div><div>//通过export的意思是向外暴露接口</div><div>export default config</div></div><div><br/></div><div>（2）在index.vue文件中导入config.js文件</div><div>在&lt;script&gt;和export default {这两行之间，添加import导入代码</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco;">//参考代码</span></div><div>//&lt;script&gt;</div><div>  import host from '@/config'</div><div>  //参考代码</div><div>  //export default {</div></div><div><br/></div><div>（3）在test方法中引用config.js文件中的常量</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>test () {</div><div>  console.log("测试方法运行成功")</div><div>  console.log("打印出config.js文件中定义的host变量：",host)</div><div>}</div></div><div><br/></div><div>控制台返回结果：</div><div><img src="2.4%20ES6%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3--%E5%88%9B%E5%BB%BAconfig.js%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.html.resources/1B9DADA4-356B-471F-B457-ABCE643D66B3.png" height="55" width="405"/><br/></div><div><br/></div><div>7、Promise异步执行</div><div><span style="font-size: 14px; orphans: 2; widows: 2; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">（1）</span><span style="color: rgb(51, 51, 51);">Promise介绍</span></div><div><span style="font-size: 14px; orphans: 2; widows: 2; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">一个 Promise 是一个等待被异步执行的对象。</span><span style="font-size: 14px; orphans: 2; widows: 2; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif;">当它执行成功，状态会变成resolved；执行失败状态会变成</span><span style="border: 0px; font-size: 12px; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace; font-stretch: normal; font-variant-caps: normal; line-height: 20px;">rejected</span></div><div><span style="border: 0px; font-size: 12px;"><br/></span></div><div><span style="font-size: 12px; font-family: Menlo;">&gt;什么是异步执行？同步执行？</span></div><div><span style="font-size: 12px; font-family: Menlo;">异步执行，就是执行某项任务时，可以在它完成之前就执行下一个任务</span></div><div><span style="font-size: 12px; font-family: Menlo;">同步执行，就是执行某项任务时，必须等待它完成才能执行下一个任务</span></div><div><span style="font-size: 12px;"><br/></span></div><div><span style="font-size: 12px; font-family: Menlo;">（2）代码演示</span></div><div>添加一个promiseTest方法，里面包含<span style="color: rgb(51, 51, 51);">Promise对象。然后在test方法中调用</span><span style="color: rgb(51, 51, 51);">promiseTest方法，查看返回的结果</span></div><div style="border: 0px; padding: 0px; overflow-wrap: break-word; word-break: break-all; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>test () {</div><div>  console.log("测试方法运行成功")</div><div>  //调用promiseTest方法</div><div>  let promise_result = this.promiseTest(3)</div><div>  console.log(promise_result)</div><div>},</div><div>//注意两个方法之间要用逗号间隔</div><div>promiseTest (num) {</div><div>  var result = new Promise(function(resolve, reject) {  </div><div>    if (num &gt; 2) {</div><div>      console.log(`num的值为${num}`)</div><div>      resolve("我执行成功了，状态变成了resolved");  </div><div>    } else {</div><div>      console.log(`num的值为${num}`)</div><div>      reject("我执行失败了，状态变成了rejected");  </div><div>    }</div><div>  });</div><div>  return result</div><div>}</div></div></div><div style="border: 0px; padding: 0px; overflow-wrap: break-word; word-break: break-all; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px;">在test方法中调用promiseTest方法时，参数为3，满足&gt;2的条件，会返回resolve执行成功的结果</span></div><div style="border: 0px; padding: 0px; overflow-wrap: break-word; word-break: break-all; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 1em; margin-bottom: 1em;"><img src="2.4%20ES6%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3--%E5%88%9B%E5%BB%BAconfig.js%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.html.resources/1C55AB4F-15AB-496D-88FD-9020CD77EC84.png" height="82" width="400"/><br/></div><div style="border: 0px; padding: 0px; overflow-wrap: break-word; word-break: break-all; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px;">将参数改为1，不满足&gt;2的条件，会返回reject执行失败的结果</span></div><div style="border: 0px; padding: 0px; overflow-wrap: break-word; word-break: break-all; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><span style="font-size: 14px; color: rgb(51, 51, 51);"><img src="2.4%20ES6%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3--%E5%88%9B%E5%BB%BAconfig.js%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.html.resources/44E34371-19F2-49F7-B43B-35F4461ABBE7.png" height="87" width="404"/><br/></span></div><div style="border: 0px; padding: 0px; overflow-wrap: break-word; word-break: break-all; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><span style="border: 0px; overflow-wrap: break-word; word-break: break-all; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(51, 51, 51); font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;Noto Sans CJK SC&quot;, &quot;WenQuanYi Micro Hei&quot;, Arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 2em;-en-paragraph:true;">8、</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">async、</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">await异步等待</span></div><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">（1）</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">async、</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">await介绍</span></div><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">async</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">就是异步的意思，</span><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">会作为一个关键字放到函数前面，用来表示函数是一个异步函数</span></div><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">await是等待的意思，后面常放一个promise对象。await关键字只可以放到async函数里面</span></div><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><br/></span></div><div><span style="font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">（2）代码演示</span></div><div>在test方法前面加上async表明这是一个异步函数，创建setTime方法，里面定义一个延时器，会延时2秒执行程序，方便我们查看效果</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>async test () {</div><div>  console.log("测试方法运行成功")</div><div>  let result = await this.setTime(1);</div><div>  console.log("await后面的方法执行完成后，才能执行下面的语句");</div><div>  console.log(result);</div><div>},</div><div>setTime(num) {</div><div>  return new Promise(function(resolve, reject) {</div><div>    setTimeout(function(){</div><div>      resolve("第" + num + "个延时器");</div><div>    },2000)</div><div>  })</div><div>}</div></div><div style="margin: 10px auto; padding: 0px; list-style-type: none; list-style-image: none; text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">打开控制台，2s 之后，输出结果如下：</span></div><div style="margin: 10px auto; padding: 0px; list-style-type: none; list-style-image: none; text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><div><img src="2.4%20ES6%E7%9F%A5%E8%AF%86%E7%82%B9%E8%AF%A6%E8%A7%A3--%E5%88%9B%E5%BB%BAconfig.js%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.html.resources/70CD874D-4934-434B-9B21-42F4361A6B63.png" height="83" width="396"/><br/></div><div><br/></div><div><span style="font-size: 14px;">（3）代码执行过程</span></div></div><div style="margin: 10px auto; padding: 0px; list-style-type: none; list-style-image: none; text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">下面我们看看代码的执行过程，</span></div><ul><li><div style="margin: 10px auto; padding: 0px; list-style-type: none; list-style-image: none; text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">执行</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: Tahoma;">test异步</span><span style="text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">函数，遇到了await, await 表示等一下，要</span><span style="text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">等后面的</span><span style="text-indent: 0px; font-size: 11pt; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma; font-variant-caps: normal; font-variant-ligatures: normal;">setTime(1)方法</span><span style="text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">执行完才能继续执行下面的代码，现在代码暂停在await这里。</span></div></li><li><div style="margin: 10px auto; padding: 0px; list-style-type: none; list-style-image: none; text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">开始执行</span><span style="text-indent: 0px; font-size: 11pt; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma; font-variant-caps: normal; font-variant-ligatures: normal;">setTime(1)方法，</span><span style="text-indent: 0px; font-size: 11pt; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma; font-variant-caps: normal; font-variant-ligatures: normal;">setTime(1)方法中有一个</span><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: Tahoma;">setTimeout延时器，等待2000毫秒（2秒）之后</span><span style="text-indent: 0px; font-size: 11pt; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma; font-variant-caps: normal; font-variant-ligatures: normal;">，</span><span style="text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">执行</span><span style="text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">resolve拿到了返回值----「</span><span style="text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Tahoma;">第1个延时器</span><span style="text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">」</span></div></li><li><div style="margin: 10px auto; padding: 0px; list-style-type: none; list-style-image: none; text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">将这个</span><span style="text-indent: 0px; font-size: 11pt; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Tahoma; font-variant-caps: normal; font-variant-ligatures: normal;">返回值</span><span style="text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">赋值给result，</span><span style="text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">await这里的</span><span style="text-indent: 0px; font-size: 14px; letter-spacing: normal; orphans: 2; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(68, 68, 68); font-family: Tahoma, Arial, Helvetica, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;">暂停结束，代码继续向下执行console.log语句。</span></div></li></ul><div><br/></div><div><br/></div></body></html>