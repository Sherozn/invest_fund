<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.12 (457935)"/><meta name="author" content="1369822836@qq.com"/><meta name="created" content="2019-08-26 16:15:51 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2019-09-16 09:18:04 +0000"/><title>3.6 登录功能（四）--显示登录成功弹窗</title></head><body><div>用户登录完成之后，我们添加一个登录成功的弹窗。</div><div><br/></div><div>1、创建工具函数文件</div><div>创建src/util.js工具函数文件，用来放我们后期会重复用到的函数，比如提示框，HTTPS请求等。粘贴下面代码到util.js文件中</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>//消息提示框</div><div>export function showSuccess (text) {</div><div>  //wx.showToast是小程序现成的API，其中title是提示的内容,icon是显示的图标</div><div>  wx.showToast({</div><div>    title: text,</div><div>    icon: 'success'</div><div>  })</div><div>}</div></div><div><br/></div><div>&gt; wx.showToast使用文档</div><div><a href="https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.showToast.html">https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.showToast.html</a></div><div><br/></div><div>2、引用util.js文件</div><div>在src/components/LoginWindow.vue文件中添加import引用util.js文件，我们就可以在LoginWindow.vue文件中直接使用showSuccess方法了</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco;">//参考代码，无需粘贴</span></div><div><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco;">//</span>import qcloud from 'wafer2-client-sdk'</div><div><span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco;">//</span>import config from '@/config'</div><div>import {showSuccess} from '@/util'</div></div><div><br/></div><div>3、使用showSuccess方法</div><div><span style="font-size: 13px;">编辑&lt;</span><span style="font-size: 13px;">script&gt;部分的</span><span style="font-size: 13px;">methods对象，在</span>loginSuccess方法中使用，不要忘记保存文件哦~</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>//参考代码，无需粘贴</div><div>//loginSuccess (res) {</div><div><br/></div><div>  </div><div>  //需要粘贴的部分</div><div>  showSuccess('登录成功')</div><div><br/></div><div><br/></div><div>//参考代码，无需粘贴</div><div>//wx.setStorageSync('userinfo', res)</div><div>//},</div></div><div><br/></div><div>4、查看效果</div><div><span style="font-size: 13px;">在Storage中删除掉缓存信息，点击编译按钮刷新页面，点击授权登录按钮，登录成功后，就会出现登录成功的弹窗</span></div><div><img src="3.6%20%E7%99%BB%E5%BD%95%E5%8A%9F%E8%83%BD%EF%BC%88%E5%9B%9B%EF%BC%89--%E6%98%BE%E7%A4%BA%E7%99%BB%E5%BD%95%E6%88%90%E5%8A%9F%E5%BC%B9%E7%AA%97.html.resources/252EE3DF-6B4D-407C-9F47-709EC9B7C0CE.png" height="672" width="381"/><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></body></html>