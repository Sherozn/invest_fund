<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 7.12 (457935)"/><meta name="author" content="1369822836@qq.com"/><meta name="created" content="2019-08-17 00:03:17 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2019-08-17 00:57:07 +0000"/><title>服务器部署</title></head><body><div><img src="%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2.html.resources/D08727C9-AB5B-400F-A627-BA705029C5DC.png" height="143" width="436"/><br/></div><div><br/></div><h3 style="padding: 0px; font-size: 16px; box-sizing: border-box; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 16px; box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.5;">2. Nginx 证书部署
</span></h3><h4 style="padding: 0px; font-size: 14px; box-sizing: border-box; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 14px; box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.5;">2.1 获取证书
</span></h4><div>Nginx 文件夹内获得 SSL 证书文件 <span style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.0392157); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 1em; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace;">1_</span><a href="http://www.domain.com_bundle.crt/" style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.0392157); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 1em; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace;">www.domain.com_bundle.crt</a> 和私钥文件 <span style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.0392157); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 1em; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace;">2_</span><a href="http://www.domain.com.key/" style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.0392157); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 1em; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace;">www.domain.com.key</a>。</div><div><br/></div><div><span style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.0392157); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 1em; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace;">1_</span><a href="http://www.domain.com_bundle.crt/" style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.0392157); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 1em; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace;">www.domain.com_bundle.crt</a> 文件包括两段证书代码 “-----BEGIN CERTIFICATE-----” 和 “-----END CERTIFICATE-----”,</div><div><br/></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.0392157); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 1em; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace;-en-paragraph:true;">2_</span><a href="http://www.domain.com.key/" style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.0392157); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 1em; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace;-en-paragraph:true;">www.domain.com.key</a><span style="-en-paragraph:true;"> 文件包括一段私钥代码 “-----BEGIN RSA PRIVATE KEY-----” 和 “-----END RSA PRIVATE KEY-----”。
</span></div><h4 style="padding: 0px; font-size: 14px; box-sizing: border-box; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 14px; box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.5;">2.2 证书安装
</span></h4><div>将域名 <a href="http://www.domain.com/" style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.0392157); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 1em; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace;">www.domain.com</a> 的证书文件 <span style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.0392157); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 1em; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace;">1_</span><a href="http://www.domain.com_bundle.crt/" style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.0392157); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 1em; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace;">www.domain.com_bundle.crt</a> 、私钥文件 <span style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.0392157); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 1em; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace;">2_</span><a href="http://www.domain.com.key/" style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.0392157); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 1em; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace;">www.domain.com.key</a> 保存到同一个目录，例如 /usr/local/nginx/conf 目录下。</div><div>我放在了/data/release/nginx/目录下</div><div>nginx在/etc/nginx/conf.d</div><div><br/></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">修改 Nginx 根目录下 conf/nginx.conf 文件，内容如下：
</span></div><div style="padding: 0px; box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div style=" padding: 0px; box-sizing: border-box; list-style: inherit; border: 1px solid rgb(217, 217, 217);"><div style="box-sizing: border-box; list-style: inherit; font-size: 14px; padding: 24px 16px; overflow: auto; background-color: rgb(242, 242, 242); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; overflow-wrap: normal; background-position: initial initial; background-repeat: initial initial;"><div><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(153, 0, 0); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.45;">server</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;"> {</span></div><div><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">        </span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: navy; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">listen</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;" /><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: teal; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">443</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">;</span></div><div><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">        </span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: navy; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">server_name</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;" /><a href="http://www.domain.com/" style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">www.domain.com</a><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">; </span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">#填写绑定证书的域名</span></div><div><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">        </span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: navy; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">ssl</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;" /><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: teal; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">on</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">;</span></div><div><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">        </span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: navy; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">ssl_certificate</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;" /><span style="font-size: 14px; color: rgb(51, 51, 51); font-family: Consolas;">/data/release/nginx/</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">1_</span><a href="http://www.domain.com_bundle.crt;/" style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">www.domain.com_bundle.crt;</a></div><div><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">        </span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: navy; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">ssl_certificate_key</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;" /><span style="font-size: 14px; color: rgb(51, 51, 51); font-family: Consolas;">/data/release/nginx/</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">2_</span><a href="http://www.domain.com.key;/" style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">www.domain.com.key;</a></div><div><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">        </span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: navy; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">ssl_session_timeout</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;" /><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: teal; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">5m</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">;</span></div><div><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">        </span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: navy; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">ssl_protocols</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;"> TLSv1 TLSv1.</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: teal; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">1</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;"> TLSv1.</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: teal; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">2</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">; </span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">#按照这个协议配置</span></div><div><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">        </span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: navy; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">ssl_ciphers</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;"> ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">#按照这个套件配置</span></div><div><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">        </span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: navy; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">ssl_prefer_server_ciphers</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;" /><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: teal; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">on</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">;</span></div><div><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">        </span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: navy; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">location</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;"> / {</span></div><div><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">            </span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: navy; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">root</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">   html; </span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(153, 153, 136); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-style: italic; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">#站点目录</span></div><div><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">            </span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: navy; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">index</span><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">  index.html index.htm;</span></div><div><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">        }</span></div><div><span style="box-sizing: border-box; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 14px; overflow-wrap: normal; border: 0px; word-break: normal; white-space: pre; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-stretch: normal; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.45;">    }</span></div></div></div></div><div style="padding: 0px; box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">配置完成后，请先执行命令 </span><span style="box-sizing: border-box; font-size: 1em; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgba(0, 0, 0, 0.0392157); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">bin/nginx –t</span><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;"> 测试 Nginx 配置是否有误。若无报错，重启 Nginx 之后，即可使用 </span><a href="https://www.domain.com/" style="box-sizing: border-box; font-size: 1em; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgba(0, 0, 0, 0.0392157); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; color: rgb(51, 51, 51); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">https://www.domain.com</a><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;"> 来访问。
</span></div><div style="padding: 0px; box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); margin-top: 1em; margin-bottom: 1em;"><span style="box-sizing: border-box; font-size: 14px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;-en-paragraph:true;">相关参数说明如下：
</span></div><div style="padding: 0px 0px 5px; box-sizing: border-box; max-width: 100%; overflow-x: auto; font-size: 14px; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"/><col style="width: 130px;"/></colgroup><tbody style="box-sizing: border-box; list-style: inherit;"><tr style="box-sizing: border-box; list-style: inherit; background-color: rgb(255, 255, 255);"><td style="box-sizing: border-box; list-style: inherit; overflow-wrap: break-word; text-align: left; word-break: keep-all; background-color: rgb(242, 242, 242); border: 1px solid rgb(217, 217, 217); width: 130px; padding: 8px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">配置文件参数</span></div></td><td style="box-sizing: border-box; list-style: inherit; overflow-wrap: break-word; text-align: left; word-break: keep-all; background-color: rgb(242, 242, 242); border: 1px solid rgb(217, 217, 217); width: 130px; padding: 8px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">说明</span></div></td></tr><tr style="box-sizing: border-box; list-style: inherit; background-color: rgb(255, 255, 255);"><td style="box-sizing: border-box; list-style: inherit; overflow-wrap: break-word; text-align: left; border: 1px solid rgb(217, 217, 217); width: 130px; padding: 8px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">listen 443 </span></div></td><td style="box-sizing: border-box; list-style: inherit; overflow-wrap: break-word; text-align: left; border: 1px solid rgb(217, 217, 217); width: 130px; padding: 8px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">SSL 访问端口号为 443 </span></div></td></tr><tr style="box-sizing: border-box; list-style: inherit; background-color: rgb(255, 255, 255);"><td style="box-sizing: border-box; list-style: inherit; overflow-wrap: break-word; text-align: left; border: 1px solid rgb(217, 217, 217); width: 130px; padding: 8px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">ssl on </span></div></td><td style="box-sizing: border-box; list-style: inherit; overflow-wrap: break-word; text-align: left; border: 1px solid rgb(217, 217, 217); width: 130px; padding: 8px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">启用 SSL 功能 </span></div></td></tr><tr style="box-sizing: border-box; list-style: inherit; background-color: rgb(255, 255, 255);"><td style="box-sizing: border-box; list-style: inherit; overflow-wrap: break-word; text-align: left; border: 1px solid rgb(217, 217, 217); width: 130px; padding: 8px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">ssl_certificate </span></div></td><td style="box-sizing: border-box; list-style: inherit; overflow-wrap: break-word; text-align: left; border: 1px solid rgb(217, 217, 217); width: 130px; padding: 8px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">证书文件 </span></div></td></tr><tr style="box-sizing: border-box; list-style: inherit; background-color: rgb(255, 255, 255);"><td style="box-sizing: border-box; list-style: inherit; overflow-wrap: break-word; text-align: left; border: 1px solid rgb(217, 217, 217); width: 130px; padding: 8px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">ssl_certificate_key </span></div></td><td style="box-sizing: border-box; list-style: inherit; overflow-wrap: break-word; text-align: left; border: 1px solid rgb(217, 217, 217); width: 130px; padding: 8px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">私钥文件 </span></div></td></tr><tr style="box-sizing: border-box; list-style: inherit; background-color: rgb(255, 255, 255);"><td style="box-sizing: border-box; list-style: inherit; overflow-wrap: break-word; text-align: left; border: 1px solid rgb(217, 217, 217); width: 130px; padding: 8px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">ssl_protocols </span></div></td><td style="box-sizing: border-box; list-style: inherit; overflow-wrap: break-word; text-align: left; border: 1px solid rgb(217, 217, 217); width: 130px; padding: 8px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">使用的协议 </span></div></td></tr><tr style="box-sizing: border-box; list-style: inherit; background-color: rgb(255, 255, 255);"><td style="box-sizing: border-box; list-style: inherit; overflow-wrap: break-word; text-align: left; border: 1px solid rgb(217, 217, 217); width: 130px; padding: 8px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">ssl_ciphers </span></div></td><td style="box-sizing: border-box; list-style: inherit; overflow-wrap: break-word; text-align: left; border: 1px solid rgb(217, 217, 217); width: 130px; padding: 8px;"><div><span style="font-size: 14px; color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 1.5;">配置加密套件，写法遵循 openssl 标准 </span></div></td></tr></tbody></table><div><br/></div></div><h4 style="padding: 0px; font-size: 14px; box-sizing: border-box; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="font-size: 14px; box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); font-family: &quot;pingfang SC&quot;, &quot;helvetica neue&quot;, arial, &quot;hiragino sans gb&quot;, &quot;microsoft yahei ui&quot;, &quot;microsoft yahei&quot;, simsun, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: bold; line-height: 1.5;">2.3 使用全站加密，HTTP 自动跳转 HTTPS（可选）
</span></h4><div>对于用户不知道网站可以进行 HTTPS 访问的情况下，让服务器自动把 HTTP 的请求重定向到 HTTPS。</div><div><br/></div><div>在服务器这边的话配置的话，可以在页面里加 js 脚本，也可以在后端程序里写重定向，当然也可以在 web 服务器来实现跳转。Nginx 是支持 rewrite 的（只要在编译的时候没有去掉 pcre）</div><div><br/></div><div>在 HTTP 的 server 里增加 <span style="box-sizing: border-box; background-color: rgba(0, 0, 0, 0.0392157); border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; font-size: 1em; font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, &quot;Microsoft Yahei&quot;, monospace;">rewrite ^(.*) https://$host$1 permanent;</span></div><div><br/></div><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;">这样就可以实现 80 进来的请求，重定向为 HTTPS 了。
</span></div><div style="margin-top: 1em; margin-bottom: 1em;"><img src="%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2.html.resources/CF2E9B50-5E95-44D3-A9B4-E8FE2AE16A19.png" height="284" width="832"/><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">upstream data {</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    server unix:/home/ubuntu/data_symtem/unicorn.sock  fail_timeout=0;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">}</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#server {</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#    listen 80;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#listen 443 default ssl;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#    server_name </span><a href="http://xiolu.com;" style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">xiolu.com;</a></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    #server_name *.</span><a href="http://cms.iluopan.com;" style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">cms.iluopan.com;</a></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    #server_name *.com;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    #server_name *.cn;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    #server_name *.org;</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    # Application root, as defined previously</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    # Application root, as defined previously</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"> #   root /mnt/projects/private_data/public;</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#ssl on;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#ssl_certificate /home/zhiche/project/private_fund/openssl/server.crt;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#ssl_certificate_key /home/zhiche/project/private_fund/openssl/server_nopwd.key;</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#client_max_body_size 2m;</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#add_header X-Frame-Options ALLOW-FROM;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#    location / {</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#proxy_redirect off;</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#proxy_set_header Host $host;</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#proxy_set_header X-Forwarded-Host $host;</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#proxy_set_header X-Forwarded-Server $host;</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#proxy_set_header X-Frame-Options ALLOW-FROM;</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#proxy_set_header X-Real-IP $remote_addr;</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#proxy_set_header X-Forwarded-Proto https;</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#proxy_buffering on;</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#proxy_pass </span><a href="http://data;" style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">http://data;</a></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#    }</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">#}</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">server {</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">        listen 443;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">        server_name </span><a href="http://www.xiolu.com;" style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">www.xiolu.com;</a><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"> #填写绑定证书的域名</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">        ssl on;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">        ssl_certificate 1_</span><a href="http://www.xiolu.com_bundle.crt;" style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">www.xiolu.com_bundle.crt;</a></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">        ssl_certificate_key 2_</span><a href="http://www.xiolu.com.key;" style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">www.xiolu.com.key;</a></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">        ssl_session_timeout 5m;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">        ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #按照这个协议配置</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">        ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;#按照这个套件配置</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">        ssl_prefer_server_ciphers on;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">        location / {</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">            root   html; #站点目录</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">            index  index.html index.htm;</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">        }</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">    }</span></div></div><div style="margin-top: 1em; margin-bottom: 1em;"><div><br/></div><div><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">重启nginx服务 </span></div><div><span style="font-size: 14px; color: rgb(68, 68, 68); font-family: &quot;Helvetica Neue&quot;; font-variant-caps: normal; font-variant-ligatures: normal;">sudo service nginx restart</span></div></div><div><br/></div><div><br/></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; overflow-wrap: break-word; font-size: 14px; float: left;"><div style="box-sizing: border-box; outline: 0px; padding: 0px; overflow-wrap: break-word; font-size: 14px;"><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-weight: bold;">server</span><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;"> {
</span></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; list-style-type: none; overflow-wrap: break-word;"><div style="box-sizing: border-box; outline: 0px; padding: 0px; overflow-wrap: break-word; font-size: 14px; float: left;"><div style="box-sizing: border-box; outline: 0px; padding: 0px; overflow-wrap: break-word; font-size: 14px;"><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; color: rgb(166, 38, 164); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;">listen</span><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;" /><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; color: rgb(152, 104, 1); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;">80</span><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;">;
</span></div></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; list-style-type: none; overflow-wrap: break-word;"><div style="box-sizing: border-box; outline: 0px; padding: 0px; overflow-wrap: break-word; font-size: 14px; float: left;"><div style="box-sizing: border-box; outline: 0px; padding: 0px; overflow-wrap: break-word; font-size: 14px;"><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; color: rgb(0, 0, 128); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;">server_name</span><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;" /><a href="http://www.yudingfan.com/" style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;">www.yudingfan.com</a><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;">;
</span></div></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; list-style-type: none; overflow-wrap: break-word;"><div style="box-sizing: border-box; outline: 0px; padding: 0px; overflow-wrap: break-word; font-size: 14px; float: left;"><div style="box-sizing: border-box; outline: 0px; padding: 0px; overflow-wrap: break-word; font-size: 14px;"><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; color: rgb(0, 0, 128); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;">rewrite</span><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;" /><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; color: rgb(0, 153, 38); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;">^(.*)$</span><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;"> https:</span><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; color: rgb(80, 161, 79); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;">//</span><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;">$server_name</span><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;">$1</span><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;" /><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; color: rgb(0, 128, 128); font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;">permanent</span><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;">;
</span></div></div></div><div style="box-sizing: border-box; outline: 0px; padding: 0px; overflow-wrap: break-word; font-size: 14px; float: left;"><div style="box-sizing: border-box; outline: 0px; padding: 0px; overflow-wrap: break-word; font-size: 14px;"><span style="box-sizing: border-box; outline: 0px; overflow-wrap: break-word; font-size: 14px; font-family: &quot;Source Code Pro&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Ubuntu Mono&quot;, &quot;Anonymous Pro&quot;, &quot;Droid Sans Mono&quot;, Menlo, Monaco, Consolas, Inconsolata, Courier, monospace, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, sans-serif;">}</span></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div>数据库密码W?g43l:iexGh</div><div><br/></div><div>19950712xu@.</div><div><br/></div><div><br/></div><div><a href="https://cloud.tencent.com/act/pro/mysql">https://cloud.tencent.com/act/pro/mysql</a></div><div>腾讯云数据库购买</div><div><br/></div><div>pm2安装并启动</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">[root@VM_16_15_centos weapp]# npm install pm2 --global</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">/www/node-v8.2.1-linux-x64/bin/pm2 -&gt; /www/node-v8.2.1-linux-x64/lib/node_modules/pm2/bin/pm2</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">/www/node-v8.2.1-linux-x64/bin/pm2-dev -&gt; /www/node-v8.2.1-linux-x64/lib/node_modules/pm2/bin/pm2-dev</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">/www/node-v8.2.1-linux-x64/bin/pm2-docker -&gt; /www/node-v8.2.1-linux-x64/lib/node_modules/pm2/bin/pm2-docker</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">/www/node-v8.2.1-linux-x64/bin/pm2-runtime -&gt; /www/node-v8.2.1-linux-x64/lib/node_modules/pm2/bin/pm2-runtime</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.7 (node_modules/pm2/node_modules/fsevents):</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.7: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">+ pm2@3.4.0</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">added 68 packages and updated 1 package in 31.305s</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">[root@VM_16_15_centos weapp]# pm2 -v</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">-bash: pm2: command not found</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">[root@VM_16_15_centos bin]# ln -s /www/node-v8.2.1-linux-x64/lib/node_modules/pm2/bin/pm2 /usr/local/bin</span></div><div><br style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);"/></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">[root@VM_16_15_centos server]# pm2 start app.js</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">[PM2] Starting /data/release/weapp/server/app.js in fork_mode (1 instance)</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">[PM2] Done.</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">┌──────────┬────┬─────────┬──────┬───────┬────────┬─────────┬────────┬─────┬──────────┬──────┬──────────┐</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">│ App name │ id │ version │ mode │ pid   │ status │ restart │ uptime │ cpu │ mem      │ user │ watching │</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">├──────────┼────┼─────────┼──────┼───────┼────────┼─────────┼────────┼─────┼──────────┼──────┼──────────┤</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">│ app      │ 0  │ 1.0.0   │ fork │ 16773 │ online │ 0       │ 0s     │ 0%  │ 5.9 MB   │ root │ disabled │</span></div><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">└──────────┴────┴─────────┴──────┴───────┴────────┴─────────┴────────┴─────┴──────────┴──────┴──────────┘</span></div></div><div><br/></div><div><br/></div><div>安装<span style="font-size: 12px; color: rgb(51, 51, 51); font-family: Monaco;">wafer2-client-sdk</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><span style="font-family: Monaco; font-size: 12px; color: rgb(51, 51, 51);">npm install --save wafer2-client-sdk</span></div></div><div><br/></div><div><br/></div><div>安装</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div><span style="font-family: Monaco;">sudo npm install sass-loader node-sass --save-dev</span></div></div><div><br/></div><div><br/></div><div>src/config里面修改域名</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);-en-codeblock:true;"><div>// const host = 'http://localhost:5757'</div><div>const host = 'https://xiolu.com'</div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></body></html>